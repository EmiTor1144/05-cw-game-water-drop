<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Run Game </title>
      
    <link rel="stylesheet" href="styles.css">
    <style>
      body, h1, h2, h3, h4, h5, h6, p, a, button, div, span, menu {
        font-family: 'Proxima Nova', 'Avenir', sans-serif;
      }
    </style>
</head>
<body>
   <div class="game-wrapper">
       <h1 class="game-title">Water Run </h1> 
       <h2 class="game-subtitle"> X</h2>
       <img src="img/cw_logo-horizontal.png" alt="Water Run Logo" class="game-logo">
  
        <div class="game-container" id="game-container">
          <div id="game-overlay" class="game-overlay" style="display: flex;">
            <div class="game-overlay-content">
              <h2>Welcome to Water Run!</h2>
              <p class="game-tagline">Click and drag your Runner to collect CLEAN water! Avoid the dirty drops.</p>  
              <button id="start-btn" class="menu-btn">Start Mission</button>
            </div>
          </div>
         <div class="timer">Time: <span id="time">45</span></div> 
         <score-panel><div class="score">Score: <span id="score">0</span></div> </score-panel>

            <!-- Character and drops will be dynamically added here -->
            <img id="character" src="img/Charity Water GIRL RUNNING.png" alt="Character" draggable="false">
            <button id="pause-btn" title="Pause Game" style="position:absolute; right:18px; bottom:18px;">
                <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="18" cy="18" r="18" fill="#2E9DF7"/>
                  <rect x="11" y="10" width="4" height="16" rx="2" fill="white"/>
                  <rect x="21" y="10" width="4" height="16" rx="2" fill="white"/>
                </svg>
            </button>
            <button id="music-btn" title="Music" style="position:absolute; right:66px; bottom:18px; background:none; border:none; padding:0; cursor:pointer; width:48px; height:48px; z-index:10;">
                <span style="position:relative; display:inline-block; width:48px; height:48px;">
                  <svg width="48" height="48" style="position:absolute; top:0; left:0; z-index:0;">
                    <circle cx="24" cy="24" r="24" fill="#2E9DF7"/>
                  </svg>
                  <img id="music-icon-img" src="img/R.png" alt="Music Note" style="width:32px; height:32px; position:absolute; top:8px; left:8px; z-index:1;" />
                  <svg id="music-mute-svg" width="48" height="48" style="position:absolute; top:0; left:0; pointer-events:none; z-index:2; display:none;">
                    <line x1="12" y1="40" x2="36" y2="12" stroke="#F5402C" stroke-width="5" stroke-linecap="round" />
                  </svg>
                </span>
            </button>
            <audio id="game-music" src="music/videoplayback.m4a" loop></audio>
            <audio id="chime-sound" src="music/WATER SOUND.mp3"></audio>

            <div id="pause-overlay" class="pause-overlay" style="display:none;">
                <div class="pause-menu">
                    <div class="pause-title">Game Paused</div>
                    <div class="pause-btn-row">
                        <button id="resume-btn" class="pause-action-btn">Resume</button>
                        <button id="restart-btn" class="pause-action-btn">Restart</button>
                    </div>

                    <button onclick="window.location.href='index.html'" id="menu-btn" class="pause-menu-btn">Menu</button>
                    <button id="settings-btn" class="pause-menu-btn">Settings</button>
              </div>
            </div>

            <div id="mission-complete-popup" class="mission-complete-popup" style="display:none;">
              <div class="mission-complete-content">
                Mission Completed!<br>
                <button id="restart-mission-btn" class="mission-complete-btn" style="display:none; margin-top: 18px;">Restart Mission</button>
              </div>
              <button id="start-another-btn" class="mission-complete-btn">Start Another Mission</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
    const musicBtn = document.getElementById('music-btn');
    const musicMuteSvg = document.getElementById('music-mute-svg');
    const gameMusic = document.getElementById('game-music');
    const chimeSound = document.getElementById('chime-sound');
    let musicMuted = false;

    // Start music when game starts
    document.getElementById('start-btn').addEventListener('click', function() {
      gameMusic.volume = 0.5;
      gameMusic.play();
    });

    musicBtn.addEventListener('click', function() {
      musicMuted = !musicMuted;
      gameMusic.muted = musicMuted;
      musicMuteSvg.style.display = musicMuted ? 'inline' : 'none';
    });

    // Call this function when a clean water drop is collected
    function playChime() {
      chimeSound.currentTime = 0;
      chimeSound.play();
    }
    // Example usage: playChime();
    </script>
</body>
</html>
